<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.4" />
<title>ForgePlucker</title>
<style type="text/css">
/* Sans-serif font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
div#toctitle,
span#author, span#revnumber, span#revdate, span#revremark,
div#footer {
  font-family: Arial,Helvetica,sans-serif;
}

/* Serif font. */
div.sectionbody {
  font-family: Georgia,"Times New Roman",Times,serif;
}

/* Monospace font. */
tt {
  font-size: inherit;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

tt {
  font-size: inherit;
  color: navy;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

pre {
  padding: 0;
  margin: 0;
}

span#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
span#email {
}
span#revnumber, span#revdate, span#revremark {
}

div#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
div#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
div#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

div#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.tableblock, div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #777777;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  div#footer-badges { display: none; }
}

div#toc {
  margin-bottom: 2.5em;
}

div#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }
</style>
<script type="text/javascript">
/*<![CDATA[*/
window.onload = function(){asciidoc.footnotes();}
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([2-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  var cont = document.getElementById("content");
  var noteholder = document.getElementById("footnotes");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      // Use [\s\S] in place of . so multi-line matches work.
      // Because JavaScript has no s (dotall) regex flag.
      note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      spans[i].innerHTML =
        "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
        "' title='View footnote' class='footnote'>" + n + "</a>]";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
}

}
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>ForgePlucker</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>ForgePlucker will be a project aimed at breaking open-source projects
out of their data jails, one step at a time.  A central goal will be to produce
useful data-mining and content-mirroring tools at every stage,
gradually integrating them into smarter robots as we gain knowledge of
the domain.</p></div>
<div class="paragraph"><p>ForgePlucker will write tools that rely only on the publicly exposed
interfaces of forge systems.  We do not expect to be able to run code
on forge servers or get direct access to databases, if only because
many forges would consider the security risks of allowing such access
unacceptable.</p></div>
<div class="paragraph"><p>The end goal of ForgePlucker will be a tool that can recover the state
of a project from any of the commonly used forge systems, and dump
that state to a standardized representation that is static, textual
and self-describing. But we will deliberately not try to specify this
format up front; instead, we will collect experience by capturing data
from the most commonly used forge systems into forge-type-specific
dump formats, unifying them at a later stage.</p></div>
<div class="paragraph"><p>Beyond ForgePlucker lies the goal of using these snapshots for import
to forges.  But that can happen only after experiance has taught us
how to jailbreak the data out of them.</p></div>
<div class="paragraph"><p>The name "ForgePlucker" is bicapitalized, violating normal hacker
custom, as a tip of the hat to the original SourceForge - which,
though afflicted with bad architectural decisions that have made this
project necessary ten years later, was nevertheless a conceptual
breakthrough in how we coordinate programming work.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_starting_small_staying_grounded">Starting Small, Staying Grounded</h2>
<div class="sectionbody">
<div class="paragraph"><p>The project plan is conditioned on the fact that while there are many
forges out there, there are relatively few forge types.  Furthermore,
the most commonly used family of forges (those descended from early
SourceForge) has rigidities in its underlying architecture that mean
not much has actually changed in the decade since SourceForge.
Accordingly the problem of jailbreaking these sites, while not easy,
is not as forbidding as it might at first appear</p></div>
<div class="paragraph"><p>We will chose a set of supported forge types to give the best tradeoff
we can manage between userbase coverage and implementation pain. At
each stage, every piece of code delivered will solve a real
data-jailing problem with a real forge.</p></div>
<div class="paragraph"><p>Later in the project, some forges may choose to cooperate with it by
providing relatively painless export features.  We&#8217;ll use those when
they&#8217;re available but but never, <strong>ever</strong> wait on them.</p></div>
<div class="sect2">
<h3 id="_phase_1a_individual_bugpluckers">Phase 1a: Individual BugPluckers</h3>
<div class="paragraph"><p>The first step on the road to ForgePlucker has already been taken -
the demonstration code can mine all items from trackers on Savane (the
forge system used for Savannah and Gna!)  and Berlios, an instance of
the widely-deployed GForge/FusionForge family.</p></div>
<div class="paragraph"><p>Despite the fact that these sites run different forge system, the
logic for mining them is mostly shared - they&#8217;re subclasses of a
GenericForge class that captures the invariants of this class of
systems.</p></div>
<div class="paragraph"><p>In the rest of phase 1a we&#8217;ll make the coverage of these
systems more complete and add several other forge types,
certainly including the original SourceForge and probably
Canonical&#8217;s Launchpad as well.</p></div>
</div>
<div class="sect2">
<h3 id="_phase_1b_a_smarter_bugplucker_and_one_dump_format">Phase 1b: A Smarter BugPlucker, and One Dump Format.</h3>
<div class="paragraph"><p>Lather, rinse, repeat.  By the time we have done three or four of
these we will know enough to reconcile the dump formats&#8201;&#8212;&#8201;and merge
the code into a bugplucker robot that can be given a URL to a tracker
and figure out the right thing to do.</p></div>
</div>
<div class="sect2">
<h3 id="_phase_2_mailing_lists">Phase 2: Mailing Lists</h3>
<div class="paragraph"><p>The principal goal of Phase Two will be to write a robot that can
extract the state of MailMan lists through public interfaces.  This
list manager is so widely used in forges that being able to pluck from
it may reduce the rest of the problem to statistical noise.</p></div>
<div class="paragraph"><p>If there are other mailing-list managers out there with significant
usage, we&#8217;ll figure out how to pluck data from them, too.</p></div>
<div class="paragraph"><p>The deliverable of this phase will be a ListPlucker robot that, given
the URL of the administrator page for a mailing list manager instance
and the correct credentials, can extract all the state data for the
list - recipient addresses and options, list options, and archives.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_phase_three_repoplucker">Phase Three: RepoPlucker</h2>
<div class="sectionbody">
<div class="paragraph"><p>The goal of Phase 3 will be lossless capture of repostory data through
forge public interfaces.  This will be trivial for distributed VCSes
like hg, git, and bzr; in practice, it reduces to writing a history
grabber that can mine SVN and CVS repositories.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_phase_4_projectplucker">Phase 4: ProjectPlucker</h2>
<div class="sectionbody">
<div class="paragraph"><p>Once we have BugPlucker, ListPlucker, MailPlucker, and common dump
formats for all of these, it will be time to amalgamate them into
ProjectPlucker.  ProjectPlucker will need to capture at least two
additional things from projects on each forge type: the roles table
describing the capabilities of each member, and the state of whatever
static webspace is associated with the project.</p></div>
<div class="paragraph"><p>As in previous phases, we&#8217;ll write custom pluckers and custom
dumpfile types for individual forges until we know enough to unify
them.  The deliverable of Phase Four will be a robot that can produce
a static backup dump of the entire state of any project on a
supported forge type.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_phase_5_envoi">Phase 5: Envoi</h2>
<div class="sectionbody">
<div class="paragraph"><p>In phase 5, we begin wriing tools to reanimate a state dump into a live
project.  This may involve writing a new forge system, or bolting
import facilities onto cooperative existing forges.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_additional">Additional</h2>
<div class="sectionbody">
<div class="paragraph"><p>The preceding has been written as if the goal of the tools will
always be one big static dump.  That was an oversimplification; for
several reasons, beginning with bandwidth efficiency, it would be very
desirable for pluckers to be able to read in a previously captured
state and do an incremental fetch to update it. This could prove
difficult, as forges tend to be spotty about exposing modification
dates.  But with a complete state dump in hand, it would at least be
possible to report on all items created since the last fetch time.</p></div>
<div class="paragraph"><p>Much later, late in phase 5, incremental updates may turn into the basis
for dynamic synchronization between replicated live instances of a
project, or into a facility for serving an RSS-like feed to
subscribers as a project changes state.</p></div>
<div class="paragraph"><p>This goal puts some constraints on the dump format.  It means that
not only does the project state dump have to be self-describing as an
entire collection, each lower-level piece (tracker state,
mailing-list sate, repo state, webspace state, roles table) needs to
be a self-describing unit on its own.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_tools_and_basics">Tools and Basics</h2>
<div class="sectionbody">
<div class="paragraph"><p>Python (and perhaps PyCurl) for building the plucker 'bots.</p></div>
<div class="paragraph"><p>JSON as a metaformat for the dumpfiles, because it&#8217;s better than XML for
stuff that is mostly attribute-value pairs, and no worse than XML
for large binary blobs.</p></div>
<div class="paragraph"><p>asciidoc for documentation and web pages, because it&#8217;s beautifully
simple.</p></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2010-12-06 16:33:52 CET
</div>
</div>
</body>
</html>
